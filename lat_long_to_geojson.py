import json


def make_geojson(lat_longpairs, lat_longpoints):
	geojson = {"type": "FeatureCollection", "features": []}

	for geo1, geo2 in zip(lat_longpairs[:-1], lat_longpairs[1:]):
		to_add = {}
		to_add["geometry"] = {"coordinates": [[geo1[0], geo1[1]], [geo2[0], geo2[1]]], "type": "LineString"}
		if geo1 == lat_longpairs[0]:
			to_add["properties"] = {"linker":"from_depart"}
		elif geo2 == lat_longpairs[-1]:
			to_add["properties"] = {"linker":"to_arrival"}
		else:
			to_add["properties"] = None
		to_add["type"] = "Feature"
		geojson["features"].append(to_add)

	for point in lat_longpoints:
		to_add = {}
		to_add["geometry"] = {"coordinates": [point[0], point[1]], "type": "Point"}
		to_add["properties"] = None
		to_add["type"] = "Feature"
		geojson["features"].append(to_add)

	return json.dumps(geojson)

data = [(4.341509,52.01192),
        (4.3422064781189,52.0120239257812),
        (4.34225511550903,52.0119438171387),
		(4.34304809570312,52.0120506286621),
		(4.34363889694214,52.0110092163086),
		(4.34400129318237,52.0105133056641),
		(4.34407949447632,52.0104866027832),
		(4.34555053710938,52.0107498168945),
		(4.34589290618896,52.0107917785645),
		(4.34616184234619,52.0107955932617),
		(4.34633636474609,52.010799407959),
		(4.34655380249023,52.0107269287109),
		(4.3467001914978,52.0105857849121),
		(4.34680509567261,52.010627746582),
		(4.34752130508423,52.010066986084),
		(4.34793281555176,52.0097160339355),
		(4.34860610961914,52.0100212097168),
		(4.34919500350952,52.0102882385254),
		(4.34941053390503,52.0103874206543),
		(4.34997606277466,52.0099143981934),
		(4.35041999816895,52.0100860595703),
		(4.35099935531616,52.0096015930176),
		(4.3521203994751,52.0101089477539),
		(4.35275888442993,52.0103988647461),
		(4.35341215133667,52.0106964111328),
		(4.35372400283813,52.0108375549316),
		(4.3545036315918,52.0101089477539),
		(4.3550066947937,52.0103187561035),
		(4.35513877868652,52.0101547241211),
		(4.35569953918457,52.0094757080078),
		(4.35580062866211,52.0093688964844),
		(4.35763788223267,52.0073051452637),
 		(4.357043,52.00684)]

print(make_geojson(data, []))